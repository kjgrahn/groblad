#!/usr/bin/perl -w # -*- perl -*-
#
# kärlvl - extract data from http://www.nrm.se/fbo/chk/
#          Checklista över Nordens kärlväxter
#          Thomas Karlsson,
#          Naturhistoriska riksmuseet
# 
# $Id: kärlvl,v 1.1 2004-08-08 21:13:42 grahn Exp $
# 
# Copyright (c) 2004 Jörgen Grahn <jgrahn@algonet.se>
# All rights reserved.

# All this assumes that the format doesn't change, of course.  But it
# seems to be generated by something, and so should stay constant.
#
# the weird pseudo-hidden-zeros convention seems to be
# 000000 hybrids (mostly, also eight forms)
# 0000   variants, and 29 'trade names'
# 00     subspecies, and one 'trade name'

use strict;

while(<>) {
    chomp;
    next unless /<td>/;

    my @bits = split /<td.*?>/;
    next unless @bits eq 4;

    my ($dummy, $char, $latin, $se) = map {s|</td>||; $_} @bits;

    print "$se\n";

}
